/**
 * @license rxcomp-http v1.0.0-beta.19
 * (c) 2020 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
this.rxcomp=this.rxcomp||{},this.rxcomp.http=function(e,t,r,n){"use strict";function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,r){return(c=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return r&&a(s,r.prototype),s}).apply(null,arguments)}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}var h;(h=e.HttpEventType||(e.HttpEventType={}))[h.Sent=0]="Sent",h[h.UploadProgress=1]="UploadProgress",h[h.ResponseHeader=2]="ResponseHeader",h[h.DownloadProgress=3]="DownloadProgress",h[h.Response=4]="Response",h[h.User=5]="User",h[h.ResponseError=6]="ResponseError";var d=function(){function e(t){var r=this;this.headers_=new Map;var n=this.headers_;t instanceof e?t.headers_.forEach((function(e,t){n.set(t,e)})):"function"==typeof(null==t?void 0:t.forEach)?t.forEach((function(e,t){n.set(t,e.split(", "))})):"object"==typeof t?Object.keys(t).forEach((function(e){var s=t[e];"string"==typeof s&&(s=[s]),n.has(e)?s.forEach((function(t){return r.append(e,t)})):n.set(e,s)})):"string"==typeof t&&t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var s=e.slice(0,t),o=e.slice(t+1).trim();n.has(s)?r.append(s,o):n.set(s,[o])}})),n.has("Accept")||n.set("Accept",["application/json","text/plain","*/*"]),n.has("Content-Type")||n.set("Content-Type",["application/json"])}var t=e.prototype;return t.has=function(e){return this.headers_.has(e)},t.get=function(e){var t=this.headers_.get(e);return t?t.join(", "):null},t.set=function(e,t){var r=this.clone_();return r.headers_.set(e,t.split(", ")),r},t.append=function(e,t){var r=this.clone_(),n=r.headers_.has(e)&&r.headers_.get(e)||[];return n.push(t),r.headers_.set(e,n),r},t.delete=function(e){var t=this.clone_();return t.headers_.delete(e),t},t.forEach=function(e,t){var r=this;this.headers_.forEach((function(t,n){e(t.join(", "),n,r)}))},t.serialize=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),e},t.toObject=function(){var e={};return this.forEach((function(t,r){e[r]=t})),e},t.clone_=function(){var t=new e;return this.headers_.forEach((function(e,r){t.headers_.set(r,e)})),t},e}(),l=function(t){function r(r){var n;return(n=t.call(this,(null==r?void 0:r.message)||"Unknown Error")||this).status=0,n.statusText="Unknown Error",n.ok=!1,n.type=e.HttpEventType.ResponseError,n.message="Unknown Error",n.name="HttpErrorResponse",r&&(n.headers=new d(r.headers),n.status=r.status||n.status,n.statusText=r.statusText||n.statusText,n.url=r.url||n.url,n.error=r.error||n.error,n.name=r.name||n.name,n.request=r.request||null),n}return o(r,t),r.prototype.clone=function(e){var t=new r(e=Object.assign({headers:this.headers,status:this.status,statusText:this.statusText,url:this.url,error:this.error,message:this.message,name:this.name,request:this.request},e||{}));return t},r}(p(Error)),f=function(){function t(t){this.status=200,this.statusText="OK",this.type=e.HttpEventType.ResponseHeader,t&&(this.headers=new d(t.headers),this.status=t.status||this.status,this.statusText=t.statusText||this.statusText,this.url=t.url||this.url),this.ok=this.status>=200&&this.status<300}return t.prototype.clone=function(e){var r=new t(e=Object.assign({headers:this.headers,status:this.status,statusText:this.statusText,url:this.url,ok:this.ok,type:this.type},e||{}));return r},t}(),y=function(){function t(t){this.status=200,this.statusText="OK",this.type=e.HttpEventType.Response,this.body=null,t&&(this.headers=new d(t.headers),this.status=t.status||this.status,this.statusText=t.statusText||this.statusText,this.url=t.url||this.url,this.body=t.body||this.body),this.ok=this.status>=200&&this.status<300}var r=t.prototype;return r.clone=function(e){var r=new t(e=Object.assign({headers:this.headers,status:this.status,statusText:this.statusText,url:this.url,ok:this.ok,type:this.type,body:this.body},e||{}));return r},r.toObject=function(){var e={};return e.url=this.url,e.headers=this.headers.toObject(),e.status=this.status,e.statusText=this.statusText,e.ok=this.ok,e.type=this.type,e.body=this.body,e},t}(),v=function(){function e(){this.response_=null}var s=e.prototype;return s.handle=function(e){var s=this;if(!e.method)throw new Error("missing method");var o,i=e.urlWithParams,a=e.toInitRequest(),u=t.TransferService.makeKey(e.transferKey);if(t.isPlatformBrowser&&e.hydrate&&t.TransferService.has(u)){var c=t.TransferService.get(u);c&&(o=new y(c)),t.TransferService.remove(u)}return o?r.of(o):r.from(fetch(i,a).then((function(t){return s.getProgress(t,e)})).then((function(t){return s.getResponse(t,e)}))).pipe(n.tap((function(r){t.isPlatformServer&&e.hydrate&&t.TransferService.set(u,r.toObject())})),n.catchError((function(n){var o={error:n};s.response_&&(o.headers=s.response_.headers,o.status=s.response_.status,o.statusText=s.response_.statusText,o.url=s.response_.url,o.request=e);var i=new l(o);return t.nextError$.next(i),r.of(s.response_)})),n.finalize((function(){s.response_=null})))},s.getProgress=function(e,r){var n=this,s=e.clone().body;if(t.isPlatformBrowser&&r.reportProgress&&s){var o=s.getReader(),i=e.headers&&e.headers.has("Content-Length")?+(e.headers.get("Content-Length")||0):0;return new Promise((function(t,s){var a={progress:0,percent:0,current:0,total:0};o.read().then((function(t){return function t(r,n){var s=a.current;return n?(a.total=i,a.current=i,a.progress=1,a.percent=100,o.closed.then((function(){return e.clone()}))):(r&&(s+=r.length||0,a.total=i,a.current=s,a.progress=s/i,a.percent=100*a.progress),o.read().then((function(e){var r=e.value,n=e.done;return t(r,n)})))}(t.value,t.done)})).then((function(e){return n.response_=new y(e),"function"==typeof e[r.responseType]?e[r.responseType]().then((function(r){return n.response_=new y(Object.assign(n.response_,{body:r})),e.ok?t(n.response_):s(n.response_)})):s(n.response_)})).catch((function(e){return console.log("upload error:",e)}))}))}return Promise.resolve(e)},s.getResponse=function(e,r){return this.response_=new y(e),t.isPlatformBrowser&&r.reportProgress&&e.body?Promise.resolve(this.response_):this.getResponseType(e,r)},s.getResponseType=function(e,t){var r=this;return new Promise((function(n,s){return r.response_=new y(e),"function"==typeof e[t.responseType]?e[t.responseType]().then((function(t){return r.response_=new y(Object.assign(r.response_,{body:t})),e.ok?n(r.response_):s(r.response_)})):s(r.response_)}))},s.getReadableStream=function(e,t){var r=e.body.getReader();return new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var n=r.done,s=r.value;n?e.close():(e.enqueue(s),t())}))}()}})},e}(),g=/^\)\]\}',?\n/,m=function(){function n(){}return n.prototype.handle=function(n){if(!n.method)throw new Error("missing method");if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new r.Observable((function(r){var s=new XMLHttpRequest,o=n.urlWithParams,i=n.toInitRequest();if(!i.method)throw new Error("missing method");var a=t.TransferService.makeKey(n.transferKey);if(t.isPlatformBrowser&&n.hydrate&&t.TransferService.has(a)){var u=t.TransferService.get(a);return t.TransferService.remove(a),r.next(u),void r.complete()}s.open(i.method,o),n.withCredentials&&(s.withCredentials=!0);var c=n.headers;if(c.has("Accept")||c.set("Accept","application/json, text/plain, */*"),!c.has("Content-Type")){var p=n.detectContentTypeHeader();null!==p&&c.set("Content-Type",p)}c.forEach((function(e,t){return s.setRequestHeader(t,e)})),n.responseType&&(s.responseType="json"!==n.responseType?n.responseType:"text");var h=n.serializeBody(),v=null,m=function(){if(null!==v)return v;var e=1223===s.status?204:s.status,t=s.statusText||"OK",r=new d(s.getAllResponseHeaders()),o=function(e){if("responseURL"in e&&e.responseURL)return e.responseURL;if(/^X-Request-URL:/m.test(e.getAllResponseHeaders()))return e.getResponseHeader("X-Request-URL");return null}(s)||n.url;return v=new f({headers:r,status:e,statusText:t,url:o})},b=function(){var e=m(),o=e.headers,i=e.status,u=e.statusText,c=e.url,p=null;204!==i&&(p=void 0===s.response?s.responseText:s.response),0===i&&(i=p?200:0);var h=i>=200&&i<300;if("json"===n.responseType&&"string"==typeof p){var d=p;p=p.replace(g,"");try{p=""!==p?JSON.parse(p):null}catch(e){p=d,h&&(h=!1,p={error:e,text:p})}}if(h){var f=new y({body:p,headers:o,status:i,statusText:u,url:c});t.isPlatformServer&&n.hydrate&&t.TransferService.set(a,f),r.next(f),r.complete()}else{var v={error:new Error(u),headers:o,status:i,statusText:u,url:c,request:n},b=new l(v);t.nextError$.next(b),r.error(b)}},w=function(e){var o=m().url,i=s.statusText||"Unknown Error",a=new d(s.getAllResponseHeaders()),u={error:new Error(i),headers:a,status:s.status||0,statusText:i,url:o,request:n},c=new l(u);t.nextError$.next(c),r.error(c)},T=!1,x=function(t){T||(r.next(m()),T=!0);var o={type:e.HttpEventType.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(o.total=t.total),"text"===n.responseType&&s.responseText&&(o.partialText=s.responseText),r.next(o)},E=function(t){var n={type:e.HttpEventType.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),r.next(n)};return s.addEventListener("load",b),s.addEventListener("error",w),n.reportProgress&&(s.addEventListener("progress",x),null!==h&&s.upload&&s.upload.addEventListener("progress",E)),s.send(h),r.next({type:e.HttpEventType.Sent}),function(){s.removeEventListener("error",w),s.removeEventListener("load",b),n.reportProgress&&(s.removeEventListener("progress",x),null!==h&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}}))},n}();var b=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),w=[],T=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),x=new v,E=new m,_=function(){function e(){this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=w;this.chain=t.reduceRight((function(e,t){return new b(e,t)}),x)}return this.chain.handle(e)},e}();var R=[],P=[],O=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.useInterceptors=function(e){if(null==e?void 0:e.length){var t=null==e?void 0:e.map((function(e){return new e}));w.push.apply(w,t)}return this},t}(t.Module);O.meta={declarations:[].concat(R,P),exports:[].concat(R,P)};var j=function(){function e(){}var t=e.prototype;return t.encodeKey=function(e){return q(e)},t.decodeKey=function(e){return decodeURIComponent(e)},t.encodeValue=function(e){return q(e)},t.decodeValue=function(e){return decodeURIComponent(e)},e}(),H=function(){function e(){}var r=e.prototype;return r.encodeKey=function(e){return q(e)},r.decodeKey=function(e){return decodeURIComponent(e)},r.encodeValue=function(e){return t.Serializer.encode(e,[t.encodeJson,encodeURIComponent,t.encodeBase64])||""},r.decodeValue=function(e){return t.Serializer.decode(e,[t.decodeBase64,decodeURIComponent,t.decodeJson])||""},e}();function q(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var C=function(){function e(t,r){void 0===r&&(r=new j),this.params_=new Map,this.encoder=r;var n=this.params_;t instanceof e?t.params_.forEach((function(e,t){n.set(t,e)})):"object"==typeof t?Object.keys(t).forEach((function(e){var r=t[e];n.set(e,Array.isArray(r)?r:[r])})):"string"==typeof t&&function(e,t,r){t.length>0&&t.split("&").forEach((function(t){var n=t.indexOf("="),s=-1==n?[r.decodeKey(t),""]:[r.decodeKey(t.slice(0,n)),r.decodeValue(t.slice(n+1))],o=s[0],i=s[1],a=e.get(o)||[];a.push(i),e.set(o,a)}))}(n,t,this.encoder)}var t=e.prototype;return t.keys=function(){return Array.from(this.params_.keys())},t.has=function(e){return this.params_.has(e)},t.get=function(e){var t=this.params_.get(e);return t?t[0]:null},t.getAll=function(e){return this.params_.get(e)||null},t.set=function(e,t){var r=this.clone_();return r.params_.set(e,[t]),r},t.append=function(e,t){var r=this.clone_();if(r.has(e)){var n=r.params_.get(e)||[];n.push(t),r.params_.set(e,n)}else r.params_.set(e,[t]);return r},t.delete=function(e){var t=this.clone_();return t.params_.delete(e),t},t.toString=function(){var e=this;return this.keys().map((function(t){var r=e.params_.get(t);return e.encoder.encodeKey(t)+(r?"="+r.map((function(t){return e.encoder.encodeValue(t)})).join("&"):"")})).filter((function(e){return""!==e})).join("&")},t.toObject=function(){var e=this,t={};return this.keys().map((function(r){var n=e.params_.get(r);n&&(t[r]=n)})),t},t.clone_=function(){var t=new e(void 0,this.encoder);return this.params_.forEach((function(e,r){t.params_.set(r,e)})),t},e}(),S=function(){function e(e,t,r,n){this.url=t,this.reportProgress=!1,this.withCredentials=!1,this.hydrate=!0,this.observe="body",this.responseType="json";var s,o=/\.(json|xml|txt)(\?.*)?$/.test(t);this.method=o?"GET":e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,s=n):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.observe=s.observe||this.observe,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=new d(s.headers)),s.params&&(this.params=s.params instanceof C?s.params:new C(s.params,s.paramsEncoder))),this.headers||(this.headers=new d),this.params||(this.params=new C);var i=this.params.toString(),a=t.indexOf("?"),u=-1===a?"?":a<t.length-1?"&":"";this.urlWithParams=t+(i.length?u+i:i)}var r,n,o,i=e.prototype;return i.serializeBody=function(){return null===this.body?null:k(this.body)||$(this.body)||A(this.body)||"string"==typeof this.body?this.body:this.body instanceof C?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},i.detectContentTypeHeader=function(){return null===this.body||A(this.body)?null:$(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof C?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},i.toInitRequest=function(){return{method:this.method,headers:this.headers.serialize(),body:this.serializeBody(),mode:"same-origin",credentials:"same-origin",cache:"default",redirect:"error"}},i.toFetchRequest__=function(){return new Request(this.urlWithParams,this.toInitRequest())},i.clone=function(t){t=Object.assign({headers:this.headers,reportProgress:this.reportProgress,params:this.params,responseType:this.responseType,withCredentials:this.withCredentials,observe:this.observe,body:this.body,url:this.url,method:this.method},t||{});var r=new e(this.method,this.url,this.body,t);return r},i.toObject=function(){var e={};return e.url=this.url,e.method=this.method,e.headers=this.headers.toObject(),e.params=this.params.toObject(),e.body=this.body,e.reportProgress=this.reportProgress,e.responseType=this.responseType,e.withCredentials=this.withCredentials,e.observe=this.observe,e},r=e,(n=[{key:"transferKey",get:function(){var e=t.getLocationComponents(this.url).pathname,r=t.optionsToKey(this.params.toObject()),n=t.optionsToKey(this.body),s=this.method+"-"+e+"-"+r+"-"+n;return s=s.replace(/(\s+)|(\W+)/g,(function(){return(arguments.length<=1?void 0:arguments[1])?"":"_"}))}}])&&s(r.prototype,n),o&&s(r,o),e}();function k(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function $(e){return"undefined"!=typeof Blob&&e instanceof Blob}function A(e){return"undefined"!=typeof FormData&&e instanceof FormData}var U=function(){function e(){}return e.incrementPendingRequest=function(){e.pendingRequests$.next(e.pendingRequests$.getValue()+1)},e.decrementPendingRequest=function(){e.pendingRequests$.next(e.pendingRequests$.getValue()-1)},e.request$=function(t,s,o){var i,a=this;if(void 0===o&&(o={}),t instanceof S)i=t;else{var u=void 0;u=o.headers instanceof d?o.headers:new d(o.headers);var c=void 0;o.params&&(c=new C(o.params,o.paramsEncoder)),i=new S(t,s,void 0!==o.body?o.body:null,{headers:u,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}e.incrementPendingRequest();var p,h=r.of(i).pipe(n.concatMap((function(e){return a.handler.handle(e)})),n.finalize((function(){return e.decrementPendingRequest()})));return t instanceof S||"events"===o.observe?h.pipe(n.catchError((function(e){return console.log("error",e),r.throwError(a.getError(e,null,i))}))):h.pipe(n.filter((function(e){return e instanceof y}))).pipe(n.map((function(e){switch(p=e,o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body;case"blob":if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body;case"text":if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body;case"json":default:return e.body}case"response":return e;default:throw new Error("Unreachable: unhandled observe type "+o.observe+"}")}})),n.catchError((function(e){return console.log("error",e),r.throwError(a.getError(e,p,i))})))},e.delete$=function(e,t){return void 0===t&&(t={}),this.request$("DELETE",e,t)},e.get$=function(e,t){return void 0===t&&(t={}),this.request$("GET",e,t)},e.head$=function(e,t){return void 0===t&&(t={}),this.request$("HEAD",e,t)},e.jsonp$=function(e,t){return this.request$("JSONP",e,{params:(new C).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.options$=function(e,t){return void 0===t&&(t={}),this.request$("OPTIONS",e,t)},e.patch$=function(e,t,r){return void 0===r&&(r={}),this.request$("PATCH",e,B(r,t))},e.post$=function(e,t,r){return void 0===r&&(r={}),this.request$("POST",e,B(r,t))},e.put$=function(e,t,r){return void 0===r&&(r={}),this.request$("PUT",e,B(r,t))},e.getError=function(e,t,r){e.status||(e.statusCode=(null==t?void 0:t.status)||0),e.statusMessage||(e.statusMessage=(null==t?void 0:t.statusText)||"Unknown Error");var n={error:e,status:e.status,statusText:e.statusText,message:e.message,request:r};return t&&(n.headers=t.headers,n.status=n.status||t.status,n.statusText=n.statusText||t.statusText,n.url=t.url),new l(n)},e}();function B(e,t){return Object.assign({},e,{body:t})}return U.pendingRequests$=new r.BehaviorSubject(0),U.handler=new _,e.HttpErrorResponse=l,e.HttpFetchHandler=v,e.HttpHandler=function(){},e.HttpHeaderResponse=f,e.HttpHeaders=d,e.HttpInterceptingHandler=_,e.HttpInterceptorHandler=b,e.HttpInterceptors=w,e.HttpModule=O,e.HttpParams=C,e.HttpRequest=S,e.HttpResponse=y,e.HttpResponseBase=function(e,t,r){void 0===t&&(t=200),void 0===r&&(r="OK"),this.status=200,this.statusText="OK",this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||void 0,this.ok=this.status>=200&&this.status<300},e.HttpSerializerCodec=H,e.HttpService=U,e.HttpUrlEncodingCodec=j,e.HttpXhrHandler=m,e.NoopInterceptor=T,e.fetchHandler=x,e.interceptingHandler=function(e,t){return void 0===t&&(t=[]),t?t.reduceRight((function(e,t){return new b(e,t)}),e):e},e.jsonpCallbackContext=function(){return"object"==typeof window?window:{}},e.xhrHandler=E,e}({},rxcomp,rxjs,rxjs.operators);
//# sourceMappingURL=rxcomp-http.min.js.map